{"Version":"2019-10-30","StartAction":"Enable Logging","Metadata":{"entryPointPosition":{"x":40,"y":40},"ActionMetadata":{"Enable Logging":{"position":{"x":140,"y":21.6},"isFriendlyName":true},"Greeting":{"position":{"x":357.6,"y":18.4},"isFriendlyName":true},"generateVanityNumber":{"position":{"x":573.6,"y":16.8},"isFriendlyName":true,"parameters":{"LambdaFunctionARN":{"displayName":"generateVanityNumbers"}},"dynamicMetadata":{}},"69edf197-0365-4fa5-8ecc-ef6237085bb8":{"position":{"x":816,"y":16.8},"conditionMetadata":[{"id":"756ed88e-59f6-4f1a-ad1e-4f94e12c4a0c","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"200"}]},"19fac44b-b520-44ca-93a3-ab7dcfb8962a":{"position":{"x":1576.8,"y":59.2}},"setReturnValue":{"position":{"x":1049.6,"y":16},"isFriendlyName":true,"parameters":{"Attributes":{"vanityNo1":{"useDynamic":true},"vanityNo2":{"useDynamic":true},"vanityNo3":{"useDynamic":true}}},"dynamicParams":["vanityNo1","vanityNo2","vanityNo3"]},"playVanityNumbers":{"position":{"x":1286.4,"y":16},"isFriendlyName":true},"Tech Diff":{"position":{"x":1302.4,"y":224.8},"isFriendlyName":true}},"Annotations":[],"name":"playVanityNumber_CF","description":"","type":"contactFlow","status":"saved","hash":{}},"Actions":[{"Parameters":{"FlowLoggingBehavior":"Enabled"},"Identifier":"Enable Logging","Type":"UpdateFlowLoggingBehavior","Transitions":{"NextAction":"Greeting"}},{"Parameters":{"Text":"Welcome to Vanity Number flow"},"Identifier":"Greeting","Type":"MessageParticipant","Transitions":{"NextAction":"generateVanityNumber","Errors":[{"NextAction":"Tech Diff","ErrorType":"NoMatchingError"}]}},{"Parameters":{"LambdaFunctionARN":"arn:aws:lambda:us-east-1:590183960149:function:generateVanityNumbers","InvocationTimeLimitSeconds":"7","ResponseValidation":{"ResponseType":"JSON"}},"Identifier":"generateVanityNumber","Type":"InvokeLambdaFunction","Transitions":{"NextAction":"69edf197-0365-4fa5-8ecc-ef6237085bb8","Errors":[{"NextAction":"Tech Diff","ErrorType":"NoMatchingError"}]}},{"Parameters":{"ComparisonValue":"$.External.statusCode"},"Identifier":"69edf197-0365-4fa5-8ecc-ef6237085bb8","Type":"Compare","Transitions":{"NextAction":"Tech Diff","Conditions":[{"NextAction":"setReturnValue","Condition":{"Operator":"Equals","Operands":["200"]}}],"Errors":[{"NextAction":"Tech Diff","ErrorType":"NoMatchingCondition"}]}},{"Parameters":{},"Identifier":"19fac44b-b520-44ca-93a3-ab7dcfb8962a","Type":"DisconnectParticipant","Transitions":{}},{"Parameters":{"Attributes":{"vanityNo1":"$.External.body.VanityNo1","vanityNo2":"$.External.body.VanityNo2","vanityNo3":"$.External.body.VanityNo3"},"TargetContact":"Current"},"Identifier":"setReturnValue","Type":"UpdateContactAttributes","Transitions":{"NextAction":"playVanityNumbers","Errors":[{"NextAction":"Tech Diff","ErrorType":"NoMatchingError"}]}},{"Parameters":{"SSML":"<speak>Best three vanity number for your phone numbers are.\n\n<say-as interpret-as=\"telephone \">$.Attributes.vanityNo1</say-as> <break strength=\"medium\"/> \n<say-as interpret-as=\"telephone \">$.Attributes.vanityNo2</say-as>  <break strength=\"medium\"/>\n<say-as interpret-as=\"telephone \">$.Attributes.vanityNo3</say-as>  <break strength=\"medium\"/>\nThank you.\n</speak>\n\n"},"Identifier":"playVanityNumbers","Type":"MessageParticipant","Transitions":{"NextAction":"19fac44b-b520-44ca-93a3-ab7dcfb8962a","Errors":[{"NextAction":"Tech Diff","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Text":"Sorry currently we are facing technical difficulty, please try again after some time."},"Identifier":"Tech Diff","Type":"MessageParticipant","Transitions":{"NextAction":"19fac44b-b520-44ca-93a3-ab7dcfb8962a","Errors":[{"NextAction":"19fac44b-b520-44ca-93a3-ab7dcfb8962a","ErrorType":"NoMatchingError"}]}}]}